<?xml version="1.0" encoding="utf-8"?>

<configuration>
  <system.net>
    <mailSettings>
      <smtp from="ykt.itcommunity@gmail.com" 
            deliveryMethod="Network">
      <network host="smtp.gmail.com" 
               port="587"
               userName="ykt.itcommunity@gmail.com" 
               password="podyouthofthenation"
               />
      </smtp>
    </mailSettings>
  </system.net>
  <appSettings>
    <!--Макс. кол-во заметок на странице блокнота-->
	  <add key="MaxNotesCount" value="5"/>
	  <!--Макс. кол-во сообщений на 1 странице при просмотре почты-->
    <add key="MaxMessageCount" value="5"/>    
    <!--Максимальный обьем загружаемой картинки, в байтах-->
    <add key="PostImgSize" value="2048000"/>
    <!--Максимальный размер картинки(высота и ширина), в pixels-->
    <add key="PostImgWidth" value="5000"/>
    <add key="PostImgHeight" value="5000"/>
    <!--Название папки в которой хранятся изображения(../FolderName)-->
    <add key="PostImagesFolder" value="postimages"/>
    <!-- Максимальная ширина тамбнейла в пикселях-->
    <add key="MaxThumbWidth" value="500"/>

    <!--Кол-во постов на одной странице(к этому значению добавляется кол-во прикрепленных постов)-->
    <add key="PostsCount" value="15"/>
    <!--Кол-во постов RSS фиде-->
    <add key="RssPostsCount" value="15"/>
	  <!--Кол-во избранных постов на одной странице-->
	  <add key="FavoritesCount" value="15"/>
    <!--Кол-во оспросов на странице-->
    <add key="PollsCount" value="15"/>
    
    <!--Кол-во последних комментариев в статистике(в мастерпейдже)-->
    <add key="LastCommentsCount" value="10"/>
    <!--Кол-во популярных постов -->
    <add key="PopularPostsCount" value="10"/>
    <!--Период за который выбираются популярные посты, в днях-->
    <add key="PopularPostsPeriod" value="1024"/>
    <!--Кол-во самых активных авторов-->
    <add key="TopPostersCount" value="10"/>
    <!--Кол-во последних зарегистрированных-->
    <add key="LastRegisteredCount" value="10"/>
    
    <!--Папка где лежат файлы для просмотра, не забудьте права для юзера asp_net на чтение-->
    <!-- <add key="FilesFolder" value="c:\projects\it.icmp\src\files\"/> -->
    <add key="FilesFolder" value="c:\projects\my\itcommunity\trunk\src\files"/>
    <!-- имя FilesFolder при доступе через интернет, относительно корня сайта -->
    <add key="FilesLink" value="files"/>
    <!--Папка где лежат файлы rfc(относительно корня), формат названия файлов rfc****.txt-->
    <add key="RfcFolder" value="rfc"/>
    
    <!-- КЕШИРОВАНИЕ -->
    
    <!-- Ниже названия(ключи) для получения из кеша соответствующих данных(должны быть уникальны)-->
    <add key="CategoriesCacheName"   value="categories"/>
    <add key="LastCommentsCacheName" value="last_comments"/>
    <add key="MenuCacheName"         value="menu"/>
    <add key="LastPostsCacheName"    value="last_posts"/>
    <add key="TopPostsCacheName"     value="top_posts"/>
    <add key="LastUsersCacheName"    value="last_users"/>
    <add key="TopPostersCacheName"   value="top_users"/>
    <add key="UsersStatCacheName"    value="users_stat"/>
    
    <!-- Время жизни кеша категорий после 1-й загрузки, в часах-->
    <add key="CategoriesCachePer" value="24"/>
    <!-- Время жизни кеша меню после 1-й загрузки, в часах-->
    <add key="MenuCachePer"       value="24"/>
    <!-- Время жизни кеша последних постов после 1-й загрузки, в часах-->
    <add key="LastPostsCachePer"  value="1"/>
    <!-- Время жизни кеша популярных постов после 1-й загрузки, в часах-->
    <add key="TopPostsCachePer"   value="1"/>
    <!-- Время жизни кеша последних зареганных пользователей после 1-й загрузки, в часах-->
    <add key="LastUsersCachePer"  value="1"/>
    <!-- Время жизни кеша активных постеров после 1-й загрузки, в часах-->
    <add key="UsersStatCachePer" value="1"/>
    
    
  </appSettings>
  <connectionStrings>
    <add name="ConnectionString" connectionString="Data Source=localhost;Initial Catalog=itcommunity;Persist Security Info=True;User ID=wchk;Password=1234;persist security info=False;Connection Timeout=30;" providerName="System.Data.SqlClient"/>
    <add name="t100" connectionString="Data Source=192.168.0.2;Initial Catalog=itc2;Persist Security Info=False;User ID=it;Password=123;Connection Timeout=30;" providerName="System.Data.SqlClient"/>
    <add name="baldpc" connectionString="server=localhost;Database=itc;Password=qqqqqqqq;User ID=dblog1" providerName="System.Data.SqlClient"/>
  </connectionStrings>
  
  <system.web>
    <globalization requestEncoding="UTF-8" responseEncoding="UTF-8"  />
    <pages validateRequest="false" />
    <compilation debug="true"/>
    <authentication mode="Forms">
      <forms name="dfjaw78" loginUrl="default.aspx" protection="All" timeout="1" path="/" defaultUrl="default.aspx"/>
    </authentication>
    <httpHandlers>
      <add verb="*" path="ofc_handler.aspx" type="OpenFlashChart.WebHandler.ofcHandler, OpenFlashChart"/>
    </httpHandlers>
  </system.web>
  
  <!-- Доступ к страницам по ролям. Возможные роли: admin, user, poster, banned -->
  <!-- Добавляйте в алфавитном порядке -->
  <location path="accounts.aspx">
    <system.web>
      <authorization>
        <allow roles="admin"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="addpoll.aspx">
    <system.web>
      <authorization>
        <allow roles="admin"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="browse.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="controls">
    <system.web>
      <authorization>
        <deny users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="default.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="editpost.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="favorites.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="mail.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="mailsend.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="mailview.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="media">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="news.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="nodepad.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="nodepadadd.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="poll.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="pollresult.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>
  
  <location path="recovery.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="register.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
        <deny  users="admin, user, poster, banned"/>
      </authorization>
    </system.web>
  </location>

  <location path="rfc.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="rss.aspx">
    <system.web>
      <authorization>
        <allow users="*"/>
      </authorization>
    </system.web>
  </location>

  <location path="search.aspx">
    <system.web>
      <authorization>
        <allow roles="admin, poster, user"/>
        <deny  users="*"/>
      </authorization>
    </system.web>
  </location>


</configuration>

<!--
Структура директорий для картинок в постах

postimages
    userid
		    postid
			      thumb              
			      full
--> 